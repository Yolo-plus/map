<!-- 
  合并到已有项目需要注意的问题：
    1.window事件监听 -> 判断值存在的时候再处理
    2.参数传递 -> 保存到vuex
 -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <link rel="stylesheet" href="./css/public/adapter.css">
  <link rel="stylesheet" href="./css/public/normalize.css">
  <!-- <link rel="stylesheet" href="./css/public/reset.css"> -->
  <link rel="stylesheet/less" type="text/css" href="./css/public/common.less">  <!-- 公共样式 -->

  <link rel="stylesheet/less" type="text/css" href="./css/index.less" />
</head>

<body>
  <div class="container">

    <header class="navbar">
      <div class="nav-wrap-left">
        <span class="nav-city">
          <span class="location">北京</span>
          <img src="https://p0.meituan.net/travelcube/45c79a92755b54adc9dc1c4682b123b3201.png" alt="">
        </span>
      </div>

      <div class="box-search">
        <img src="https://p0.meituan.net/travelcube/99c29829cf1b85d5cdbc76a1bd0b7329814.png" alt="">
        <input type="text" placeholder="请输入商家名、品类或者商圈...">
      </div>

      <div class="nav-qrap-right">
        <div class="nav-personal">
          <img src="https://p0.meituan.net/travelcube/641521461179df7cfb88738dd1ea11ec1031.png" alt="">
        </div>
      </div>
    </header>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/less@4"></script>
  <script>
    // 跳转
    document.querySelector('.nav-city').onclick = function () {
      location.assign('./pages/city-search.html')
    }

    // 定位
    function setLocation() {
      let url = location.href
      let param = url.split('?')[1] ? url.split('?')[1].split('=') : []

      if (decodeURI(param[0]) === 'city') {
        document.querySelector('.location').textContent = decodeURI(param[1])
      }
    }

    setLocation()

  </script>
</body>

</html>